{% extends "base.html" %}

{% block title %}Reports - MyISP{% endblock %}

{% block user_name %}{{ manager_name }}{% endblock %}

{% block nav %}
<nav class="global-nav">
    <a href="{{ url_for('manager.dashboard', manager=manager_name) }}">Team Overview</a>
    <a href="{{ url_for('manager.reports', manager=manager_name) }}" class="active">Reports</a>
    <a href="{{ url_for('manager.import_data') }}">Data Import</a>
    <a href="{{ url_for('manager.settings', manager=manager_name) }}">Settings</a>
</nav>
{% endblock %}

{% block content %}
<div class="main-container">
    <h1 class="page-title">Team Reports</h1>

    <div class="content-panel">
        <h3 style="margin: 0 0 15px 0; font-size: 14px; text-transform: uppercase; color: #555;">Skill Distribution Analysis</h3>
        <div style="height: 200px; background: #fafafa; border: 1px dashed #ccc; display: flex; align-items: center; justify-content: center; color: #999;">
            [Interactive Chart Component Placeholder]
        </div>
    </div>

    <div class="content-panel">
        <h3 style="margin: 0 0 15px 0; font-size: 14px; text-transform: uppercase; color: #555;">Detailed Report</h3>
        <table>
            <thead>
                <tr>
                    <th>Employee</th>
                    <th>Skills with Gaps</th>
                    <th>Skill Gaps Count</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for emp in employees %}
                <tr>
                    <td>{{ emp.name }}</td>
                    <td>
                        {% if emp.current_gaps > 0 %}
                            {{ emp.current_gaps }} gaps identified
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td>{{ emp.current_gaps }}</td>
                    <td>
                        {% if emp.current_gaps == 0 %}
                        <span class="status-indicator status-ok">Compliant</span>
                        {% else %}
                        <span class="status-indicator status-warn">Review Needed</span>
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
         <div style="margin-top: 15px;">
            <button class="btn btn-secondary">Export to CSV</button>
        </div>
    </div>
</div>
{% endblock %}
