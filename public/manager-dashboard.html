<!DOCTYPE html>
<!--
  Manager Dashboard Page
  - Displays high-level team metrics (Direct Reports, Skill Gaps).
  - Provides smart search/filter for employees.
  - Links to detailed employee views.
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager Dashboard | MyISP</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .filter-bar {
            background: #f5f5f5;
            padding: 15px 20px;
            border-bottom: 1px solid #ddd;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        .filter-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .filter-group label {
            font-size: 12px;
            font-weight: bold;
            color: #555;
        }
        .filter-group select,
        .filter-group input {
            padding: 6px 10px;
            font-size: 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .filter-group select {
            min-width: 180px;
        }
        .filter-group input {
            min-width: 200px;
        }
        .clear-filters {
            padding: 6px 12px;
            font-size: 12px;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 3px;
            cursor: pointer;
        }
        .clear-filters:hover {
            background: #f0f0f0;
        }
    </style>
</head>
<body>

    <header>
        <div class="brand-area">
            <span class="logo-text">Company Name</span>
            <span class="app-name">MyISP</span>
        </div>
        <div class="user-controls">
            <span class="user-name">Specter, Harvey (Senior Partner)</span>
            <a href="#" class="logout-link">Log Out</a>
        </div>
    </header>

    <nav class="global-nav">
        <a href="manager-dashboard.html" class="active">Team Overview</a>
        <a href="manager-reports.html">Reports</a>
        <a href="manager-import-data.html">Data Import</a>
        <a href="manager-settings.html">Settings</a>
    </nav>

    <!-- Smart Filter Bar -->
    <div class="filter-bar">
        <div class="filter-group">
            <label>Employee:</label>
            <select id="employee-filter">
                <option value="">All Employees</option>
                <option value="mr002">Ross, Mike</option>
                <option value="dp003">Paulsen, Donna</option>
                <option value="aw010">Williams, Alex</option>
            </select>
        </div>
        <div class="filter-group">
            <label>Search:</label>
            <input type="text" id="search-input" placeholder="Search by name, role, or NBK...">
        </div>
        <button class="clear-filters" onclick="clearFilters()">Clear Filters</button>
    </div>

    <div class="main-container">
        <h1 class="page-title">Manager Dashboard: Corporate Litigation</h1>

        <!-- KPI Cards -->
        <div class="kpi-row">
            <div class="kpi-card">
                <span class="kpi-value">3</span>
                <span class="kpi-label">Direct Reports</span>
            </div>
            <div class="kpi-card alert">
                <span class="kpi-value">50%</span>
                <span class="kpi-label">Team Skill Gaps</span>
            </div>
        </div>

        <!-- Team Overview Table -->
        <div class="content-panel">
            <h3 style="margin: 0 0 15px 0; font-size: 14px; text-transform: uppercase; color: #555;">Direct Reports</h3>

            <table>
                <thead>
                    <tr>
                        <th>Employee Name</th>
                        <th>Role</th>
                        <th>Function</th>
                        <th style="text-align: center;">Skills Tracked</th>
                        <th>Current Readiness</th>
                        <th>Future Readiness</th>
                        <th style="width: 100px;">Actions</th>
                    </tr>
                </thead>
                <tbody id="team-table-body">
                    <!-- Mike Ross -->
                    <tr data-nbk="mr002" data-name="Ross, Mike" data-role="Junior Associate">
                        <td>
                            <strong>Ross, Mike</strong>
                            <div style="font-size: 10px; color: #777;">NBK: mr002</div>
                        </td>
                        <td>Junior Associate</td>
                        <td>Legal Research</td>
                        <td style="text-align: center;">4</td>
                        <td><span class="status-indicator status-warn">2 Gaps Identified</span></td>
                        <td><span class="status-indicator status-err">3 Gaps Identified</span></td>
                        <td><a href="manager-employee-details.html" class="btn btn-secondary">Details</a></td>
                    </tr>
                    <!-- Donna Paulsen -->
                    <tr data-nbk="dp003" data-name="Paulsen, Donna" data-role="COO">
                        <td>
                            <strong>Paulsen, Donna</strong>
                            <div style="font-size: 10px; color: #777;">NBK: dp003</div>
                        </td>
                        <td>COO</td>
                        <td>Operations</td>
                        <td style="text-align: center;">2</td>
                        <td><span class="status-indicator status-ok">On Target</span></td>
                        <td><span class="status-indicator status-warn">1 Gap Identified</span></td>
                        <td><a href="manager-employee-details.html" class="btn btn-secondary">Details</a></td>
                    </tr>
                    <!-- Alex Williams -->
                    <tr data-nbk="aw010" data-name="Williams, Alex" data-role="Associate">
                        <td>
                            <strong>Williams, Alex</strong>
                            <div style="font-size: 10px; color: #777;">NBK: aw010</div>
                        </td>
                        <td>Associate</td>
                        <td>Legal Analysis</td>
                        <td style="text-align: center;">2</td>
                        <td><span class="status-indicator status-warn">2 Gaps Identified</span></td>
                        <td><span class="status-indicator status-err">2 Gaps Identified</span></td>
                        <td><a href="manager-employee-details.html" class="btn btn-secondary">Details</a></td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>

    <footer>
        &copy; 2026 Company Name Corporation. All rights reserved. For Internal Use Only.
    </footer>

    <!-- Client-side Filtering Logic -->
    <script>
        const searchInput = document.getElementById('search-input');
        const employeeFilter = document.getElementById('employee-filter');
        const tableBody = document.getElementById('team-table-body');
        const rows = Array.from(tableBody.getElementsByTagName('tr'));

        function applyFilters() {
            const searchTerm = searchInput.value.toLowerCase();
            const selectedEmployee = employeeFilter.value;

            rows.forEach(row => {
                const nbk = row.getAttribute('data-nbk');
                const text = row.textContent.toLowerCase();

                let showRow = true;

                // Apply employee filter
                if (selectedEmployee && nbk !== selectedEmployee) {
                    showRow = false;
                }

                // Apply search filter
                if (searchTerm && !text.includes(searchTerm)) {
                    showRow = false;
                }

                row.style.display = showRow ? '' : 'none';
            });
        }

        function clearFilters() {
            searchInput.value = '';
            employeeFilter.value = '';
            applyFilters();
        }

        searchInput.addEventListener('keyup', applyFilters);
        employeeFilter.addEventListener('change', applyFilters);
    </script>
</body>
</html>
